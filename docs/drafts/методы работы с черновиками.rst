.. _Drafts: http://extern-api.testkontur.ru/swagger/ui/index#/Drafts
.. _`POST Draft`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Create
.. _`DELETE Draft`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_DeleteDraft
.. _`GET Draft`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_GetDraft
.. _`GET Meta`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_GetMeta
.. _`PUT Meta`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_UpdateDraftMeta
.. _`POST Check`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Check
.. _`POST Prepare`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Prepare
.. _`POST Send`: http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Send

Методы для работы с черновиками
===============================

Подробная спецификация методов показана в сваггере в разделе Drafts_.

Список доступных методов:

* `Создание черновика`_
* `Удаление черновика`_
* `Получение черновика`_
* `Получение описания черновика`_
* `Редактирование описания черновика`_
* `Проверка документов в черновике`_
* `Подготовка документов в черновике к отправке`_
* `Отправка документов из черновика`_

Создание черновика 
------------------

Метод: `POST Draft`_

С помощью этого метода создается черновик с минимально необходимым набором мета-информации, который в будущем можно при необходимости отредактировать или дополнить, используя метод `Редактирование описания черновика`_.

Удаление черновика 
------------------

Метод: `DELETE Draft`_

Получение черновика 
-------------------

Метод: `GET Draft`_

В ответ на вызов данного метода можно получить всю актуальную информацию по черновику:

* заполненную на данный момент мета-инфомарцию;
* перечень находящихся в черновике документов;
* статус черновика (новый, проверен, готов к отправке или отправлен).

Если черновик уже был отправлен, то будет ссылка на созданный документооборот.

Получение описания черновика 
----------------------------

Метод: `GET Meta`_

Получение только мета-информации черновика.

Редактирование описания черновика 
---------------------------------
Метод: `PUT Meta`_

Проверка документов в черновике 
-------------------------------

Метод: `POST Check`_

Вызовом данного метода можно проверить все документы, находящиеся в черновике. Документы проходят форматно-логические контроли по отдельности, но при наличии нескольких документов в черновике или подписей к документам возможно проведение кросс-проверок, то есть проверок на соответствие документов и подписей между собой.

Подготовка документов в черновике к отправке 
--------------------------------------------

Метод: `POST Prepare`_

С помощью данного метода документы подготавливаются к транспортировке их в контролирующий орган: происходит шифрование и сжатие согласно транспортным протоколам.

Отправка документов из черновика 
--------------------------------

Метод: `POST Send`_

На выходе данного метода получается документооборот, с которым продолжается работа с помощью методов блока :doc:`Docflow</dc/index>`.
