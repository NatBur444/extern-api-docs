.. _Drafts: https://developer.testkontur.ru/extern/post-v1-%7BaccountId%7D-drafts
.. _`POST Draft`: https://developer.testkontur.ru/extern/post-v1-%7BaccountId%7D-drafts
.. _`DELETE Draft`: https://developer.testkontur.ru/extern/delete-v1-%7BaccountId%7D-drafts-%7BdraftId%7D
.. _`GET Draft`: https://developer.testkontur.ru/extern/get-v1-%7BaccountId%7D-drafts-%7BdraftId%7D
.. _`GET Meta`: https://developer.testkontur.ru/extern/get-v1-%7BaccountId%7D-drafts-%7BdraftId%7D-meta
.. _`PUT Meta`: https://developer.testkontur.ru/extern/put-v1-%7BaccountId%7D-drafts-%7BdraftId%7D-meta
.. _`POST Check`: https://developer.testkontur.ru/extern/post-v1-%7BaccountId%7D-drafts-%7BdraftId%7D-check
.. _`POST Prepare`: https://developer.testkontur.ru/extern/post-v1-%7BaccountId%7D-drafts-%7BdraftId%7D-prepare
.. _`POST Send`: https://developer.testkontur.ru/extern/post-v1-%7BaccountId%7D-drafts-%7BdraftId%7D-send

Методы для работы с черновиками
===============================

Подробная спецификация методов показана в сваггере в разделе Drafts_.

Список доступных методов:

* `Создание черновика`_
* `Удаление черновика`_
* `Получение черновика`_
* `Получение описания черновика`_
* `Редактирование описания черновика`_
* `Проверка документов в черновике`_
* `Подготовка документов в черновике к отправке`_
* `Отправка документов из черновика`_

Создание черновика 
------------------

Метод: `POST Draft`_

С помощью этого метода создается черновик с минимально необходимым набором мета-информации, который в будущем можно при необходимости отредактировать или дополнить, используя метод `Редактирование описания черновика`_.

Удаление черновика 
------------------

Метод: `DELETE Draft`_

Получение черновика 
-------------------

Метод: `GET Draft`_

В ответ на вызов данного метода можно получить всю актуальную информацию по черновику:

* заполненную на данный момент мета-инфомарцию;
* перечень находящихся в черновике документов;
* статус черновика (новый, проверен, готов к отправке или отправлен).

Если черновик уже был отправлен, то будет ссылка на созданный документооборот.

Получение описания черновика 
----------------------------

Метод: `GET Meta`_

Получение только мета-информации черновика.

Редактирование описания черновика 
---------------------------------
Метод: `PUT Meta`_

Проверка документов в черновике 
-------------------------------

Метод: `POST Check`_

Вызовом данного метода можно проверить все документы, находящиеся в черновике. Документы проходят форматно-логические контроли по отдельности, но при наличии нескольких документов в черновике или подписей к документам возможно проведение кросс-проверок, то есть проверок на соответствие документов и подписей между собой.

.. _rst-markup-prepare:

Подготовка документов в черновике к отправке 
--------------------------------------------

Метод: `POST Prepare`_

С помощью данного метода документы подготавливаются к транспортировке их в контролирующий орган: происходит шифрование и сжатие согласно транспортным протоколам.

Отправка документов из черновика 
--------------------------------

Метод: `POST Send`_

На выходе данного метода получается документооборот, с которым продолжается работа с помощью методов блока :doc:`Docflow</dc/index>`.
