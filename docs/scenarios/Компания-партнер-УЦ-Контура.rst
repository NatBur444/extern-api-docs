Компания-партнер УЦ Контура
===========================

Компании-партнеры Контура имеют у себя аккредитованное рабочее место Удостоверяющего центра, котрое позволяет Партнеру выдавать сертификаты электронной подписи от своего имени, но на мощностях Удостоверяющего центра Контура.

.. image:: /_static/Партнер-с-КЦР.jpg

1. Подготовка к работе с API Контур.Экстерна
--------------------------------------------

Чтобы начать работать с API, необходимо сделать следующее:

* получить квалифицированный сертификат электронной подписи для аутентификации Партнера, работающего с API;
* получить :doc:`/manuals/api-key`;
* заключить договор с Контуром;
* выдать пользователю Партнера сертификат электронной подписи через рабочее место Удостоверяющего центра Контура сотрудником Партнера.

2. Аутентификация 
-----------------

* Аутентификация в работе с API Контур.Экстерна подразумевает получение уникального идентификатора сессии — :doc:`/auth/auth.sid`. Его необходимо указывать при каждом запросе к API Контур.Экстерна. 
* В данном сценарии возможно применение схемы доверительной аутентификации: пользователю Партнера достаточно авторизоваться в системе Партнера, и на основании этой авторизации мы разрешим работать пользователю с Контур.Экстерном — выдадим auth.sid.  
Когда пользователь Партнера работает с API Контур.Экстерна **первый** раз, происходит связывание пользователя сервиса Партнера и Контур.Экстерна. 

3. Работа с учетными записями
-----------------------------

На этом шаге можно выбрать учетную запись, от имени которой будет происходить работа с API. 
Если организация ранее не использовала API Контур.Экстерна, скорее всего, учетной записи ещё нет. В этом случае её можно создать.

4. Работа с черновиками и документооборотами
--------------------------------------------

На этом этапе можно приступать к электронному документообороту с контролирующим органом: загрузить и отправить документы, получить корреспонденцию от контролирующего органа, узнать о состоянии обработки ранее отправленных документов.

5. Лента событий документооборотов
----------------------------------

Если хочется настроить уведомление пользователей об изменениях в документооборотах или просто получать новости по интересующим документооборотам, можно воспользоваться лентой событий.
