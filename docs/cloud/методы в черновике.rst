.. _Drafts: http://extern-api.testkontur.ru/swagger/ui/index#/Drafts
.. _`POST Sign`: http://extern-api.testkontur.ru/swagger/ui/index#/Drafts/Drafts_Sign
.. _`POST SignConfirm`: http://extern-api.testkontur.ru/swagger/ui/index#/Drafts/Drafts_SignConfirm


Методы для работы в черновиках
==============================

.. important:: Методы данного раздела позволяют работать только с облачными сертификатами электронной подписи, выпущенными Удостоверяющим центром АО "ПФ "СКБ Контур" (https://ca.kontur.ru).

Особенностью в части работы с черновиками в случае использования облачной подписи является доступность методов для подписания документов в черновике.

В случае использования облачной криптографии в части работы с черновиками появляется возможность проводить **подписание** документов в черновике на серверах Контур.Экстерна, то есть без необходимости установки криптопровайдеров и ключей сертификатов электронной подписи на рабочие места пользователей.

.. image:: /_static/cloud.jpg

* в запросе передаются все документы черновика,
* в ответ возвращается идентификатор запроса, отправляется смс-сообщением с кодом,
* полученный код передается в запросе на подтверждение операции,
* добавляется подпись под каждый документ в черновике.

Подробная спецификация методов показана в сваггере в разделе Drafts_.

Список доступных методов:

* `Подпись документов черновика`_
* `Подтверждение подписи документов черновика`_

Подпись документов черновика
----------------------------
Метод: `POST Sign`_

Передается запрос на подпись всех документов, находящих в черновике.

Подтверждение подписи документов черновика
------------------------------------------
Метод: `POST SignConfirm`_

После ввода кода, полученного в смс-сообщении, произойдет полписание всех документов в черновике. Сформированные подписи добавятся в черновик.
