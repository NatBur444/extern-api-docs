Облачная криптография
=====================

.. toctree::
   :maxdepth: 2
   :hidden:

   методы в черновике
   методы в ДО

.. important:: Методы данного раздела позволяют работать только с облачными сертификатами электронной подписи, выпущенными Удостоверяющим центром АО "ПФ "СКБ Контур" (https://ca.kontur.ru).

Данный раздел посвящен возможностям API по работе с облачной криптографией. Особенности облачной криптографии: 

* закрытый ключ хранится на сервере Удостоверяющего центра, выдавшего сертификат электронной подписи,
* его использование пользователь разрешает посредством ввода кода, полученного в смс-сообщении на номер телефона, указанный в заявлении на выдачу сертификата. 

Таким образом облачная криптография удобна тем, что:

* криптографические операции, требующие работы с закрытым ключом (подписание, расшифровка), выполняются не на рабочем месте пользователя, а на сервере Удостоверяющего центра,
* существенно снижаются требования к программному обеспечению на рабочем месте пользователя: нет необходимости установки и настройки криптопровайдеров и закрытых ключей сертификатов электронной подписи, необходимо только в момент подписания или расшифровки документа ввести код из полученного смс-сообщения.

**Алгоритм работы с облачной криптографией**
____________________________________________
.. image:: /_static/cloud.jpg

* передаются документы для совершения криптографических операций (дешифрование, подписание),
* в ответе возвращается идентификатор запроса и отправляется смс-сообщение с кодом,
* отдельным запросом передается пара идентификатор запроса + код из смс-сообщения,
* в ответе получаем результат криптографической операции.

.. note:: 
   1. Подписать некоторые технологические документы в ходе документооборота можно без ввода кода из смс-сообщения. Для этого в отдельных методах для работы с документооборотами есть специальный параметр :ref:`→ <rst-markup-post-sign-reply-doc>`.
   2. На тестовом стенде для получения кода необходимо воспользоваться telegram-ботом :guilabel:`&@cloud_crypt_sms_bot`
